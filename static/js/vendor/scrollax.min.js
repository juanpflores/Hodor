!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function($){"use strict";function warn(e){if(!console||!console.warn)throw namespace+": "+e;console.warn(namespace+": "+e)}function getOffset(e){var t=!!("pageYOffset"in e);return{width:t?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:e.offsetWidth,height:t?window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight:e.offsetHeight,left:e[t?"pageXOffset":"scrollLeft"],top:e[t?"pageYOffset":"scrollTop"]}}function is_numeric(e){return("number"==typeof e||"string"==typeof e)&&""!==e&&!isNaN(e)}function within(e,t,n){return t>e?t:e>n?n:e}function getInlineOptions($element){var data=$element.data(lownamespace.toLowerCase());return data&&eval("({"+data+"})")||{}}function isWindow(e){var t,n;return!!(e&&"object"==typeof e&&"object"==typeof e.window&&e.window==e&&e.setTimeout&&e.alert&&(t=e.document)&&"object"==typeof t&&(n=t.defaultView||t.parentWindow)&&"object"==typeof n&&n==e)}var ArrayProto=Array.prototype,ObjProto=Object.prototype,push=ArrayProto.push,splice=ArrayProto.splice,hasOwnProperty=ObjProto.hasOwnProperty,namespace="Scrollax",lownamespace=namespace.toLowerCase(),numberRegExp=/[-+]?\d+(\.\d+)?/g,transforms=["translateX","translateY","rotate","rotateX","rotateY","rotateZ","skewX","skewY","scaleX","scaleY"],$win=$(window),$doc=$(document.body),transform,gpuAcceleration,position,bind,unbind,Scrollax=function(e,t,n){function o(){return N=Z?$doc.find(R):p.find(R),I.length=0,S=!!H.horizontal,N.each(_),i(),H.performanceTrick&&(g=Z?$doc:p),s("load"),u}function r(){h&&(h=clearTimeout(h)),h=setTimeout(function(){u.reload()})}function i(){var t=I.length;if(H.performanceTrick&&g&&(clearTimeout(v),b||(g.addClass("scrollax-performance"),b=!0),v=setTimeout(function(){g.removeClass("scrollax-performance"),b=!1},100)),t){x=getOffset(e);for(var n=0;t>n;n++)T=I[n],E=position(T.element,e),E[S?"right":"bottom"]<0||E[S?"left":"top"]>x[S?"width":"height"]||(j=T.options,O=j.offset||H.offset||0,z=E[S?"right":"bottom"],A=E[S?"width":"height"],P=(A-z+O)/A,0>P&&(z=E[S?"left":"top"],A=x[S?"width":"height"],P=-1+(A-z+O)/A),P>1||-1>P||a(T,P,S));s("scroll",x)}}function a(e,t){C=e.parallaxElements;var n=C.length;if(n)for(var o=0;n>o;o++)L=C[o],W=L.element,l(W,L,t)}function l(e,t,n){Y=t.properties||(S?{translateX:"100%"}:{translateY:"100%"}),q="";for(k in Y){if(X=Y[k],"number"==typeof X)X*=n;else if("string"==typeof X)for(B=X.match(numberRegExp),X=X,w=0,y=B.length;y>w;w++)X=X.replace(B[w],parseFloat(B[w]*n));-1!==$.inArray(k,transforms)?q+=k+"("+X+")":e.style[k]="opacity"===k?within(0>n?1+X:1-X,0,1):X}q&&(e.style[transform]=gpuAcceleration+q)}function c(e){return"undefined"!=typeof e?is_numeric(e)?e>=0&&e<I.length?e:-1:N.index(e):-1}function s(e,t){if(D[e]){for(y=D[e].length,F.length=0,w=0;y>w;w++)push.call(F,D[e][w]);for(w=0;y>w;w++)F[w].call(u,e,t)}}function f(e,t){for(var n=0,o=D[e].length;o>n;n++)if(D[e][n]===t)return n;return-1}var u=this,p=e&&$(e).eq(0)||$win,d=Scrollax.instances,m=null;if(e=p[0],$.each(d,function(t,n){t&&t.frame===e&&(m=!0)}),!e||m)return void warn(m?namespace+": Scrollax has been initialized for this frame!":namespace+": Frame is not available!");var h,w,y,g,v,b,x,S,O,E,T,j,P,z,A,C,L,W,Y,k,X,q,B,H=$.extend({},Scrollax.defaults,t),I=[],N=null,R=H.parentSelector||"[data-"+lownamespace+"-parent]",V=H.elementsSelector||"[data-"+lownamespace+"]",D={},F=[],Z=isWindow(e);u.frame=e,u.options=H,u.parents=I,u.initialized=!1,u.reload=o;var _=function(e,t){var n=$(t),o=getInlineOptions($(t)),r={};r.element=t,r.options=o,r.parallaxElements=[],n.find(V).each(function(e,t){var n=getInlineOptions($(t));n.element=t,push.call(r.parallaxElements,n)}),push.call(I,r)};u.scroll=i,u.getIndex=c,u.one=function(e,t){function n(){t.apply(u,arguments),u.off(e,n)}return u.on(e,n),u},u.on=function(e,t){if("object"==typeof e)for(var n in e)hasOwnProperty.call(e,n)&&u.on(n,e[n]);else if("function"==typeof t)for(var o=e.split(" "),r=0,i=o.length;i>r;r++)D[o[r]]=D[o[r]]||[],-1===f(o[r],t)&&push.call(D[o[r]],t);else if("array"==typeof t)for(var a=0,l=t.length;l>a;a++)u.on(e,t[a]);return u},u.off=function(e,t){if(t instanceof Array)for(var n=0,o=t.length;o>n;n++)u.off(e,t[n]);else for(var r=e.split(" "),i=0,a=r.length;a>i;i++)if(D[r[i]]=D[r[i]]||[],"undefined"==typeof t)D[r[i]].length=0;else{var l=f(r[i],t);-1!==l&&splice.call(D[r[i]],l,1)}return u},u.set=function(e,t){return $.isPlainObject(e)?$.extend(H,e):hasOwnProperty.call(H,e)&&(H[e]=t),o(),u},u.destroy=function(){return unbind(window,"resize",r),unbind(e,"scroll",i),$.each(d,function(t,n){t&&t.frame===e&&splice.call(Scrollax.instances,n,1)}),I.length=0,u.initialized=!1,s("destroy"),u},u.init=function(){return u.initialized?void 0:(u.on(n),o(),bind(window,"resize",r),bind(e,"scroll",i),push.call(Scrollax.instances,u),u.initialized=!0,s("initialized"),u)}};Scrollax.instances=[],function(){function e(e,n){for(t in n)e[t]=n[t];return e}var t,n,o,r,i,a,l,c;position=function(t,s){return n=t.ownerDocument||t,o=n.documentElement,r=isWindow(s)?s:n.defaultView||window,s=s&&s!==n?s:o,i=(r.pageYOffset||o.scrollTop)-o.clientTop,a=(r.pageXOffset||o.scrollLeft)-o.clientLeft,l={top:0,left:0},t&&t.getBoundingClientRect?(l=e({},t.getBoundingClientRect()),l.width=l.right-l.left,l.height=l.bottom-l.top,s===r?l:(l.top+=i,l.left+=a,l.right+=a,l.bottom+=i,s===o?l:(c=position(s),l.left-=c.left,l.right-=c.left,l.top-=c.top,l.bottom-=c.top,l))):null}}(),function(){function e(){this.returnValue=!1}function t(){this.cancelBubble=!0}bind=window.addEventListener?function(e,t,n,o){return e.addEventListener(t,n,o||!1),n}:function(n,o,r){var i=o+r;return n[i]=n[i]||function(){var o=window.event;o.target=o.srcElement,o.preventDefault=e,o.stopPropagation=t,r.call(n,o)},n.attachEvent("on"+o,n[i]),r},unbind=window.removeEventListener?function(e,t,n,o){return e.removeEventListener(t,n,o||!1),n}:function(e,t,n){var o=t+n;e.detachEvent("on"+t,e[o]);try{delete e[o]}catch(r){e[o]=void 0}return n}}(),function(){function e(e){for(var o=0,r=t.length;r>o;o++){var i=t[o]?t[o]+e.charAt(0).toUpperCase()+e.slice(1):e;if(null!=n.style[i])return i}}var t=["","webkit","moz","ms","o"],n=document.createElement("div");transform=e("transform"),gpuAcceleration=e("perspective")?"translateZ(0) ":""}(),Scrollax.defaults={horizontal:!1,offset:0,parentSelector:null,elementsSelector:null,performanceTrick:!1},window.Scrollax=Scrollax,$.fn.Scrollax=function(e,t){var n,o;return $.isPlainObject(e)||("string"!=typeof e&&e!==!1||(n=e===!1?"destroy":e,o=slice.call(arguments,1)),e={}),this.each(function(r,i){var a=$.data(i,lownamespace);a||n?a&&n&&a[n]&&a[n].apply(a,o):a=$.data(i,lownamespace,new Scrollax(i,e,t).init())})},$.Scrollax=function(e,t){$win.Scrollax(e,t)};var css=".scrollax-performance, .scrollax-performance *, .scrollax-performance *:before, .scrollax-performance *:after { pointer-events: none !important; -webkit-animation-play-state: paused !important; animation-play-state: paused !important; };",head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style");return style.type="text/css",style.styleSheet?style.styleSheet.cssText=css:style.appendChild(document.createTextNode(css)),head.appendChild(style),Scrollax});